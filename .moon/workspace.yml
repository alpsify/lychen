$schema: 'https://moonrepo.dev/schemas/workspace.json'

constraints:
  enforceProjectTypeRelationships: true

experiments:
  fasterGlobWalk: false
  gitV2: true
  strictProjectIds: true
  
generator:
  templates:
    - ./templates

hasher:
  ignorePatterns:
    - '**/*.png'
    - '**/*.webp'
    - '**/*.webm'
    - '**/*.jpg'
    - '**/*.jpeg'
    - '**/*.ttf'
    - '**/vendor/**/*'
    - '**/public/bundles/**/*'
    - '**/bin/**/*'
    - '**/var/**/*'
  walkStrategy: glob

projects:
  - 'libs/**/*/moon.yml'
  - 'projects/**/*/moon.yml'

vcs:
  defaultBranch: main
  hooks:
    pre-commit:
      - 'moon :format-fix --affected --logFile .moon/logs/pre-commit-format-fix.txt --log trace'
      - 'moon :lint-fix --affected'
      - 'git add -u'
  manager: git
  syncHooks: true
